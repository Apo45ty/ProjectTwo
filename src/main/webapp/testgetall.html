<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Expense Reimbursement System</title>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>


    <body>
        <div id="title">
            <h2>Testing Servlet for Project Two</h2>
        </div>
        <div id="main">
                           <hr/>
                <form id="loginForm">
                   <button type="submit" id="buttonGetData">   </button>
                </form>
            </div>
        </div>
        
        <hr/>
        <br/>
        <div id="outputfeild0"></div>
        <hr>
        <div id="outputfeild1">

            <!--form id="ViewAllPendingFromEmpId">
                <input type="text" placeholder="Id" required="required feild" id="employeeidforpending">
                <button type="submit" id="ViewAllPendingFromEmpIdBtn">View Pending From Employee</button>
            </form -->
        </div>






    </body>
    <script>
    $('#loginForm').submit(function (evt) {
        $("#outputfeild0").text("_");
        type = "getallTest";
        console.log("---Sent to Servlet---");
        console.log("Command Type: " + type);
        console.log("---------------------")
        evt.preventDefault(); //prevents the default action
        $.post("GetAllRequest", { type }, function (responseJson) {
            console.log("---Got Back From Servlet ---")
            console.log((responseJson));
             var $table = $("<table border=\"1\">").appendTo($("#outputfeild1"));
                var $select = $("#outputfeild1");
                $("<tr><th>Id </th><th>comments</th><th>result</th><th>isDeleted</th><th>testType</th><th>systemId</th></tr>").appendTo($table)
                $.each(responseJson, function (index, Test) {    // Iterate over the JSON array.
                    $("<tr>").appendTo($table)                     // Create HTML <tr> element, set its text content with currently iterated item and append it to the <table>.
                        .append($("<td>").text(Test.id))        // Create HTML <td> element, set its text content with id of currently iterated product and append it to the <tr>.
                        .append($("<td>").text(Test.comments))      // Create HTML <td> element, set its text content with name of currently iterated product and append it to the <tr>.
                        .append($("<td>").text(Test.result))
                        .append($("<td>").text(Test.isDeleted))
                        .append($("<td>").text((Test.testType)))
                        .append($("<td>").text((Test.systemId)))// Create HTML <td> element, set its text content with price of currently iterated product and append it to the <tr>.
                });
                
            
            console.log(responseJson);
            console.log("----------------------------");
        });
    });
       </script>
       </html>
       